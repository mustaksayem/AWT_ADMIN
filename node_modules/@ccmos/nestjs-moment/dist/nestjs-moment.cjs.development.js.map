{"version":3,"file":"nestjs-moment.cjs.development.js","sources":["../src/moment/constants/index.ts","../src/moment/moment.module.ts"],"sourcesContent":["export const MOMENT = 'MomentModuleMoment';\nexport const MOMENT_TZ = 'MomentModuleMomentTZ';\nexport const MOMENT_MODULE_OPTIONS = 'MomentModuleOptions';\n","import { DynamicModule } from '@nestjs/common';\nimport moment from 'moment';\nimport 'moment-timezone';\nimport { MOMENT, MOMENT_MODULE_OPTIONS, MOMENT_TZ } from './constants';\nimport { MomentModuleAsyncOptions, MomentModuleOptions } from './interfaces';\n\nexport class MomentModule {\n  static forRoot(options: MomentModuleOptions): DynamicModule {\n    return {\n      module: MomentModule,\n      global: options.isGlobal || false,\n      providers: [\n        {\n          provide: MOMENT,\n          useValue: (date: any) => moment(date),\n        },\n        {\n          provide: MOMENT_TZ,\n          useValue: (date: any, tz: string) =>\n            moment.tz(date, tz || options.tz || ''),\n        },\n      ],\n      exports: [],\n    };\n  }\n\n  static forRootAsync(options: MomentModuleAsyncOptions): DynamicModule {\n    return {\n      module: MomentModule,\n      global: options.isGlobal || false,\n      providers: [\n        {\n          provide: MOMENT_MODULE_OPTIONS,\n          useFactory: options.useFactory,\n          inject: options.inject || [],\n        },\n        {\n          provide: MOMENT,\n          useValue: (date: any) => moment(date),\n        },\n        {\n          provide: MOMENT_TZ,\n          inject: [MOMENT_MODULE_OPTIONS],\n          useFactory: (options: MomentModuleOptions) => (\n            date: any,\n            tz: string\n          ) => moment.tz(date, tz || options.tz || ''),\n        },\n      ],\n    };\n  }\n}\n"],"names":["MOMENT","MOMENT_TZ","MOMENT_MODULE_OPTIONS","MomentModule","forRoot","options","module","global","isGlobal","providers","provide","useValue","date","moment","tz","exports","forRootAsync","useFactory","inject"],"mappings":";;;;;;;;;AAAO,IAAMA,MAAM,GAAG,oBAAf;AACA,IAAMC,SAAS,GAAG,sBAAlB;AACA,IAAMC,qBAAqB,GAAG,qBAA9B;;ICIMC,YAAb;AAAA;;AAAA,eACSC,OADT,GACE,iBAAeC,OAAf;AACE,WAAO;AACLC,MAAAA,MAAM,EAAEH,YADH;AAELI,MAAAA,MAAM,EAAEF,OAAO,CAACG,QAAR,IAAoB,KAFvB;AAGLC,MAAAA,SAAS,EAAE,CACT;AACEC,QAAAA,OAAO,EAAEV,MADX;AAEEW,QAAAA,QAAQ,EAAE,kBAACC,IAAD;AAAA,iBAAeC,MAAM,CAACD,IAAD,CAArB;AAAA;AAFZ,OADS,EAKT;AACEF,QAAAA,OAAO,EAAET,SADX;AAEEU,QAAAA,QAAQ,EAAE,kBAACC,IAAD,EAAYE,EAAZ;AAAA,iBACRD,MAAM,CAACC,EAAP,CAAUF,IAAV,EAAgBE,EAAE,IAAIT,OAAO,CAACS,EAAd,IAAoB,EAApC,CADQ;AAAA;AAFZ,OALS,CAHN;AAcLC,MAAAA,OAAO,EAAE;AAdJ,KAAP;AAgBD,GAlBH;;AAAA,eAoBSC,YApBT,GAoBE,sBAAoBX,OAApB;AACE,WAAO;AACLC,MAAAA,MAAM,EAAEH,YADH;AAELI,MAAAA,MAAM,EAAEF,OAAO,CAACG,QAAR,IAAoB,KAFvB;AAGLC,MAAAA,SAAS,EAAE,CACT;AACEC,QAAAA,OAAO,EAAER,qBADX;AAEEe,QAAAA,UAAU,EAAEZ,OAAO,CAACY,UAFtB;AAGEC,QAAAA,MAAM,EAAEb,OAAO,CAACa,MAAR,IAAkB;AAH5B,OADS,EAMT;AACER,QAAAA,OAAO,EAAEV,MADX;AAEEW,QAAAA,QAAQ,EAAE,kBAACC,IAAD;AAAA,iBAAeC,MAAM,CAACD,IAAD,CAArB;AAAA;AAFZ,OANS,EAUT;AACEF,QAAAA,OAAO,EAAET,SADX;AAEEiB,QAAAA,MAAM,EAAE,CAAChB,qBAAD,CAFV;AAGEe,QAAAA,UAAU,EAAE,oBAACZ,OAAD;AAAA,iBAAkC,UAC5CO,IAD4C,EAE5CE,EAF4C;AAAA,mBAGzCD,MAAM,CAACC,EAAP,CAAUF,IAAV,EAAgBE,EAAE,IAAIT,OAAO,CAACS,EAAd,IAAoB,EAApC,CAHyC;AAAA,WAAlC;AAAA;AAHd,OAVS;AAHN,KAAP;AAuBD,GA5CH;;AAAA;AAAA;;;;"}