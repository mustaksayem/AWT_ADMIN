{"version":3,"file":"nestjs-moment.cjs.production.min.js","sources":["../src/moment/moment.module.ts","../src/moment/constants/index.ts"],"sourcesContent":["import { DynamicModule } from '@nestjs/common';\nimport moment from 'moment';\nimport 'moment-timezone';\nimport { MOMENT, MOMENT_MODULE_OPTIONS, MOMENT_TZ } from './constants';\nimport { MomentModuleAsyncOptions, MomentModuleOptions } from './interfaces';\n\nexport class MomentModule {\n  static forRoot(options: MomentModuleOptions): DynamicModule {\n    return {\n      module: MomentModule,\n      global: options.isGlobal || false,\n      providers: [\n        {\n          provide: MOMENT,\n          useValue: (date: any) => moment(date),\n        },\n        {\n          provide: MOMENT_TZ,\n          useValue: (date: any, tz: string) =>\n            moment.tz(date, tz || options.tz || ''),\n        },\n      ],\n      exports: [],\n    };\n  }\n\n  static forRootAsync(options: MomentModuleAsyncOptions): DynamicModule {\n    return {\n      module: MomentModule,\n      global: options.isGlobal || false,\n      providers: [\n        {\n          provide: MOMENT_MODULE_OPTIONS,\n          useFactory: options.useFactory,\n          inject: options.inject || [],\n        },\n        {\n          provide: MOMENT,\n          useValue: (date: any) => moment(date),\n        },\n        {\n          provide: MOMENT_TZ,\n          inject: [MOMENT_MODULE_OPTIONS],\n          useFactory: (options: MomentModuleOptions) => (\n            date: any,\n            tz: string\n          ) => moment.tz(date, tz || options.tz || ''),\n        },\n      ],\n    };\n  }\n}\n","export const MOMENT = 'MomentModuleMoment';\nexport const MOMENT_TZ = 'MomentModuleMomentTZ';\nexport const MOMENT_MODULE_OPTIONS = 'MomentModuleOptions';\n"],"names":["forRoot","options","module","MomentModule","global","isGlobal","providers","provide","useValue","date","moment","tz","exports","forRootAsync","useFactory","inject"],"mappings":"mOAOSA,QAAP,SAAeC,SACN,CACLC,OAAQC,EACRC,OAAQH,EAAQI,WAAY,EAC5BC,UAAW,CACT,CACEC,QCbY,qBDcZC,SAAU,SAACC,UAAcC,EAAOD,KAElC,CACEF,QChBe,uBDiBfC,SAAU,SAACC,EAAWE,UACpBD,EAAOC,GAAGF,EAAME,GAAMV,EAAQU,IAAM,OAG1CC,QAAS,OAINC,aAAP,SAAoBZ,SACX,CACLC,OAAQC,EACRC,OAAQH,EAAQI,WAAY,EAC5BC,UAAW,CACT,CACEC,QC9B2B,sBD+B3BO,WAAYb,EAAQa,WACpBC,OAAQd,EAAQc,QAAU,IAE5B,CACER,QCrCY,qBDsCZC,SAAU,SAACC,UAAcC,EAAOD,KAElC,CACEF,QCxCe,uBDyCfQ,OAAQ,CCxCmB,uBDyC3BD,WAAY,SAACb,UAAiC,SAC5CQ,EACAE,UACGD,EAAOC,GAAGF,EAAME,GAAMV,EAAQU,IAAM"}